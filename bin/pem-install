#!/usr/bin/env bash
set -e
[ "$PEM_DEBUG" = "yes" ] && set -x

pem-default() {
    pem_check_version "$1"
    echo "Install Python '$1'..."
    local CURRENT=`pyenv global`
    pyenv install "$1"
    (
        pyenv global "$1"
        echo "Install additional packages"
        pip install --upgrade pip
        pip install virtualenv
        pyenv global ${CURRENT}
    ) || pyenv global ${CURRENT}
    pyenv rehash
}

usage(){
    echo "Usage: pem install <version>"
    echo ""
    echo "See \`pyenv install -l|--list\` for a complete list of available versions."
}
